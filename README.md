# landscapes-data

This repository holds the code updating the data behind the
[https://projects.pixelastic.com/landscapes/][1] website. The data is crawled daily
from reddit using [reddinx][2] and [on-circle][7], then pushed to [Algolia][3].

The website is generated by [norska][4], with the [search-infinite][5] theme.
The code of that part is available on the [landscapes][6] repository.

## Setup

CircleCI is configured to run the `dailyUpdate` script daily. This script will
crawl reddit for the latest posts, commit them to the repository, and update the
Algolia index.

It needs the following configuration to work properly:
- A `GITHUB_TOKEN` env variable that allow reading and writing to the repository
- A `GITHUB_USER_EMAIL` and `GITHUB_USER_NAME` to properly author the commit
- An `ALGOLIA_API_KEY` to push data to the index
- An SSH key configured to read and write from the repository

Most of it can be automatically configured by running the following command:

```
GITHUB_TOKEN={YOUR_TOKEN} yarn run on-circle git
```

[1]: https://projects.pixelastic.com/landscapes/
[2]: https://projects.pixelastic.com/reddinx/
[3]: https://www.algolia.com/
[4]: https://projects.pixelastic.com/norska/
[5]: https://projects.pixelastic.com/norska/theme-search-infinite/
[6]: https://github.com/pixelastic/landscapes
[7]: https://projects.pixelastic.com/on-circle/

